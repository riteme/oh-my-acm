启发式合并

离线

hash

数据结构上跑图论算法

给每个点随机染色

mod合数时候可以尝试crt合并答案

曼哈顿距离和切比雪夫距离转换

(x,y)->(x+y,x-y)曼哈顿转切比雪夫，(x,y)->((x+y)/2,(x-y)/2)切比雪夫转曼哈顿

跑最短路时，如果边权一样的话，一定是先访问到的点松弛成功，后访问的点松弛失败。（例如把一条边拆成多条边，如果终点一样的话，那么这条边只有第一次可能可以成功松弛）



平面图转对偶图，判连通性

【题目描述】：(opentrains10234b,bzoj4423)
    比特哈顿镇有n*n个格点，形成了一个网格图。一开始整张图是完整的。
    有k次操作，每次会删掉图中的一条边(u,v)，你需要回答在删除这条边之后u和v是否仍然连通。
【题目解法】：
    1.平面图
    2.只有删边操作
    转化为对偶图，即将每四个点包围的区域作为一个点
    这样我们发现对于删边操作，相当于这些区域之间的加边操作
    我们不妨给每一块区域编号，对于整个网格外面的部分把他们变成一样的号码
    然后删边：
    1.删除(x,y)和(x,y+1)的边，相当于把(x-1,y)和(x,y)这两个区域连起来
    2.删除(x,y)和(x+1,y)的边，相当于把(x,y-1)和(x,y)这两个区域连起来
    然后什么时候会导致两个点不联通呢？区域形成了环
    我们发现如果区域成环，一定会把其中一个点包含在里面，区域的环相当于原图中这些边全部断掉，那么这个点与环外界的点不联通，并查集维护即可
    复杂度O(N^2)





各种东西转成一般图最大匹配，也可能是费用流





Farey级数，stern-brocot树，具体数学上P96（中文版）

线段树区间线性基是三个log的！！！

可以考虑线性基的前缀和，额外记录一下这个数被放进来的位置。

考虑线性基的插入过程，如果线性基当前位上已经有值，我们就不能把待插入的值放入这一位，因此线性基上每一位的数，都是对应位上在原数列最左侧的数字。现在我们改变策略，使得线性基上每一位的数，都变成对应位上在原数列最右侧的数字。实现这个策略的方法是：我们额外保存线性基上每一位数在原数列中的位置，插入的时候，如果对应位上的数在原数列中更靠左，就用待插入的数和它交换。基于这种策略，我们在查询区间 [L, R] 时，可以在区间 [1, R] 对应的线性基中查询，对于线性基上每一位的数，如果它在原数组中出现的位置比 L 更靠右，就考虑它对答案的贡献，否则直接跳过这一位。

这个做法的正确性也很显然，通过改变策略，使线性基上每一位数变成对应位上在原数列最右侧的数字，可以看成线性基插入数字的顺序变反，完全不影响线性基的性质。同时，将线性基上所有在原数组中的位置比 x 更靠左的数字删除，可以视为区间 [1, L-1] 的数字还没有被插入线性基。

复杂度O(nlogn)

https://blog.csdn.net/tyxacm/article/details/97156620







循环多项式和牛顿多项式，参考复旦高代书



写分数加法时候注意不要直接把分母乘起来，要先除掉gcd再算，防止爆longlong



f(x)的所有整数点取值是质数p的倍数当且仅当x^p-x在mod p下是f(x)的因式，注意特殊情况是f(x)系数的gcd是p的倍数，f(x)=0(mod p)(atcoder tenka1-2019 e)

线性求任意n个数的逆元：做前缀积，然后反着求回来，算出前缀积的逆元，最后某一个数的逆元就是$pre_{i-1}*preinv_{i}$



st表在二维的时候也可以用，但是会慢一些



$n*m$的方格上，每个点有个数，并且任意相邻的两个格子的数字恰好差一，那么给定一些位置上的数，存在一个合法的解的充要条件是任意两个点差距的坐标和高度的奇偶性相同，并且高度差小于等于坐标差。构造大概类似于floydfill，每个点向周围不断像水向下流一样，每次变小的赋值。(bytedancecamp2020day3k)





【题目描述】给一堆向量，问哪些向量可以被其他向量在实数域内线性表示。(bytedancecamp2020day4e)

【题目解法】先高斯消元解一组基底，然后其他向量都可以被表示，因为基底表示其他向量的方案是唯一的，所以记录下来其他向量是怎么被消去的，看一下消去时的系数，如果一个基底中的向量出现了，那么这个基底向量就可以被这个向量和基底中其他向量表示，否则如果所有表示其他向量时都用不到某个基底中向量，那么这个向量就不能被其他向量表示。（也就是必须出现在基底中）因为实数和大整数没法处理，所以可以随便取个模。



掷1-m的骰子，要求掷出指定序列就停止，那么掷出序列的期望长度是$E(A)=\sum_{i=1}^L a_i*m^i$。其中$a_i=1$表示$A[1,i]$是一个border，$a_i=0$表示不是。参见18年论文《浅谈生成函数在掷骰子问题上的应用》(2020hdu多校3)



用方格纸折成立方体，每次只能折90度，但是可以一个面重复覆盖。先裁成生成树，然后是唯一确定的，判断一下是不是6个面都覆盖到了。判定的方式可以考虑如果是直着走，那么就是正右反左之类的重复，如果拐了，那么考虑之前横着走的情况，比如当前是“正右反”，正的下面格子是“上”，那么接下来不管多长，只要是拐向下一行就是“上”，拐向上一行就是“下”。就可以判断了。枚举生成树的时候随便剪下枝。如果有很多生成树，那么多半是可以折出来的。如果没有很多，那么搜的很快。(2020hdu多校4)



树里面度数的平方和等于2*(长度为二的链+长度为三的链)(2020牛客7)



求最小森林覆盖，每个子图的边数都要E(U)<=k(V(U)-1)，这也是充要的，算最大密度子图，因为要求非空，枚举一个必须在的点，然后注意到这时只有度数大于k的点有用，只对这些点算，速度快很多。也有$O(m^2)$的做法。(2020hdu多校10)



背包，投入$1,2,3$可以有$a,a+b,a+b+a$的回报，可以考虑拆成$a,a+b$的两个物品，重量是$1,2$就没有约束了。(2020hdu多校10)

