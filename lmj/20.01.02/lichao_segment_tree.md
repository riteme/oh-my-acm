用一个线段树维护凸壳（线段的最大高度），高度就是这条线在某个x坐标的y值，每个线段树节点维护一个这个区间的优势线段，就是中点的高度最大的那个点，插入线段的时候分类大讨论，x1,x2,x3是新插入线段的l,mid,r的高度，t1,t2,t3是原来的优势线段，如果x1和t1，x3和t3的优劣情况相同，可以直接return或者直接把当前优势线段替换成x后return。否则考虑x2和t2，让高的那个当成现在节点的优势线段，然后低的那个向下递归，如果交点在左儿子就递归到左儿子，反之右儿子。因为没递归的儿子里面肯定是新的优势线段比被递归掉的那个线段优秀，只有递归的儿子需要进一步讨论。