用来对 smooth 的模数 $p$ 求离散对数。如果 $p-1$ 的质因数分解中最大的素因子比较小可以使用。`getlog` 用来取对数，`getroot` 算原根，枚举时，只需要判断这个数的 $(p-1)/\text{prime factor}$ 次幂是不是全部都不是 $1$ 就可以。考虑 $n = p^e$ 阶循环群，原根 $g$ 是生成元，现在要找 $g^x=h$。

1. 令 $x_0 = 0$
2. 计算 $r=g^{p^{e-1}}$，这个元素阶数为 $p$
3. 对 $k=0...e-1$ 计算
	1. $h_k = (g^{-x_k}h)^{p^{e-1-k}}$，这个元素同样是 $p$ 阶的，在 $\langle r \rangle$ 中
	2. 用 BSGS（或者暴力）求出 $d_k \in \{0,\ ...,\ p-1\}$ 满足 $r^{d_k}=h_k$
	3. 令 $x_{k+1}=x_k+p^k d_k$
4. 返回 $x_e$

即设 $x = c_0+c_1p+c_2p^2+\cdots+c_{e-1}p^{e-1}$，每一次进行的 $p^{e-1-k}$ 次方可以令之后的数都是 $p^e$ 的倍数，从而都是 $1$，只留下 $g^{c_kp^{e-1}}$ 这一项（之前的项被 3.1. 中的逆元消去了），然后计算这一项。如果 $n=p_1^{e_1}p_2^{e_2}$ 这样，考虑对每个质因数，调用一次 $g_i=g^{n/p_i^{e_i}}$，$h_i=h^{n/p_i^{e_i}}$，得到 $x \equiv x_i \pmod {p_i^{e_i}}$，CRT 求解就可以了。这一步同样是把其他无关的素因子的阶通过高次幂消去。ExGCD 似乎过程是不会爆 `long long` 的（？）。复杂度 $\mathrm O\left(\sum e_i(\log n+\sqrt p_i)\right)$。