启发式合并

离线

hash

数据结构上跑图论算法

给每个点随机染色

mod合数时候可以尝试crt合并答案

曼哈顿距离和切比雪夫距离转换

(x,y)->(x+y,x-y)曼哈顿转切比雪夫，(x,y)->((x+y)/2,(x-y)/2)切比雪夫转曼哈顿

跑最短路时，如果边权一样的话，一定是先访问到的点松弛成功，后访问的点松弛失败。（例如把一条边拆成多条边，如果终点一样的话，那么这条边只有第一次可能可以成功松弛）



平面图转对偶图，判连通性

【题目描述】：(opentrains10234b,bzoj4423)
    比特哈顿镇有n*n个格点，形成了一个网格图。一开始整张图是完整的。
    有k次操作，每次会删掉图中的一条边(u,v)，你需要回答在删除这条边之后u和v是否仍然连通。
【题目解法】：
    1.平面图
    2.只有删边操作
    转化为对偶图，即将每四个点包围的区域作为一个点
    这样我们发现对于删边操作，相当于这些区域之间的加边操作
    我们不妨给每一块区域编号，对于整个网格外面的部分把他们变成一样的号码
    然后删边：
    1.删除(x,y)和(x,y+1)的边，相当于把(x-1,y)和(x,y)这两个区域连起来
    2.删除(x,y)和(x+1,y)的边，相当于把(x,y-1)和(x,y)这两个区域连起来
    然后什么时候会导致两个点不联通呢？区域形成了环
    我们发现如果区域成环，一定会把其中一个点包含在里面，区域的环相当于原图中这些边全部断掉，那么这个点与环外界的点不联通，并查集维护即可
    复杂度O(N^2)





各种东西转成一般图最大匹配，也可能是费用流





Farey级数，stern-brocot树，具体数学上P96（中文版）

线段树区间线性基是三个log的！！！

可以考虑线性基的前缀和，额外记录一下这个数被放进来的位置。

考虑线性基的插入过程，如果线性基当前位上已经有值，我们就不能把待插入的值放入这一位，因此线性基上每一位的数，都是对应位上在原数列最左侧的数字。现在我们改变策略，使得线性基上每一位的数，都变成对应位上在原数列最右侧的数字。实现这个策略的方法是：我们额外保存线性基上每一位数在原数列中的位置，插入的时候，如果对应位上的数在原数列中更靠左，就用待插入的数和它交换。基于这种策略，我们在查询区间 [L, R] 时，可以在区间 [1, R] 对应的线性基中查询，对于线性基上每一位的数，如果它在原数组中出现的位置比 L 更靠右，就考虑它对答案的贡献，否则直接跳过这一位。

这个做法的正确性也很显然，通过改变策略，使线性基上每一位数变成对应位上在原数列最右侧的数字，可以看成线性基插入数字的顺序变反，完全不影响线性基的性质。同时，将线性基上所有在原数组中的位置比 x 更靠左的数字删除，可以视为区间 [1, L-1] 的数字还没有被插入线性基。

复杂度O(nlogn)

https://blog.csdn.net/tyxacm/article/details/97156620